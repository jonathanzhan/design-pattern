### 工厂模式(factory pattern)概述

在现实生活中社会分工越来越细，越来越专业化。
各种产品有专门的工厂生产，彻底告别了自给自足的小农经济时代，
这大大缩短了产品的生产周期，提高了生产效率。
同样，在软件开发中能否做到软件对象的生产和使用相分离呢？
能否在满足“开闭原则”的前提下，客户随意增删或改变对软件相关对象的使用呢？

#### 定义

工厂(factory)模式属于创建型模式,定义了一个创建对象的工厂接口,将产品对象的实际创建工作推迟到具体的工厂类中。
我们把被创建的对象成为`产品`，把创建产品的对象成为`工厂`

如果要创建的产品不多,只要一个工厂类就可以完成，这种模式叫`简单工厂模式`，它不属于23种设计模式,缺点是增加新产品时会违背`开闭原则`

#### 主要优点

1. 多重语句不易维护,使用策略模式可以避免使用多重条件语句。
2. 策略模式提供了一系列的可供重用的算法族,恰当使用继承可以把算法族中的公共代码转移到父类里面,避免重复代码。
3. 策略模式可以提供相同行为的不同实现,客户可以根据不同条件选择不同的算法
4. 策略模式提供了对开闭原则的完美支持,可以在不修改源代码的情况下,灵活增加新的算法
5. 策略模式把算法的使用放到环境类中,而算法的实现转移到具体策略类中,实现了二者的分离。

#### 主要缺点

1. 客户端必须理解所有的策略算法的区别,用于选择恰当的算法。
2. 策略模式会造成很多的策略类。
R
### 策略模式的结构与实现

#### 结构

策略模式是准备一组算法,并将这组算法封装到一系列的策略类里面,作为一个抽象策略类的子类。策略模式的重点不是如何实现算法,而是如何组织这些算法,从而让程序结构更加灵活,具有更好的扩展性和可维护性。
策略模式的主要角色如下:

1. 抽象策略类(strategy):定义了一个公共接口,各种不同的算法以不同的方法实现这个接口。环境类使用这个接口调用不同的算法,一般使用接口或者抽象类实现。
2. 具体策略类(concrete strategy):实现了抽象策略定义的接口,提供具体的算法实现
3. 环境类(context):持有一个策略类的引用,最终给客户端调用。